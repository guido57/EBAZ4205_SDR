#ifndef DEC_RATE_H
#define DEC_RATE_H

/*
  ---------------------------------------------------------------------------------------------------
    DEC_RATE.h
    Decimation Rate interface driver class for the Xilinx DDS compiler
    with AXI GPIO v2.0 as interface to the Xilinx DDS compiler
    Guido Giorgetti, IW5ALZ, SIENA, 2022
    forked from DC9ST, TU Kaiserslautern, 2014
  ---------------------------------------------------------------------------------------------------
*/

#include "IP_Driver.h"

/** @brief Driver for the Decimation Rate  */
class DEC_RATE {

private:

	IP_Driver *dec_rate_iface_core_;	// low level driver
	double current_dec_rate; 	// current Decimation Rate

public:
	/** @brief class constructor
	 *  @param base_adress address of the spi core (from Vivado), e.g. 0x44C00000
	 *  @param size_in_k size of the required adress space in k (from Vivado)
	**/
	DEC_RATE(int base_address, int size_in_k);

	/** @brief class deconstructor */	
	~DEC_RATE();

	/** @brief sets Decimation Rate
	  * @return actual Decimation Rate or -1 if a timeout has occured  */
	int set_dec_rate(int decimation_rate);

	/** @brief reads the current Decimation Rate
	 *  @return current Decimation Rate */
	int get_dec_rate();
};

#endif /* DDS_H */
